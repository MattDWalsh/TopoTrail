{% extends 'base.html' %}
{% block title_post %}: {{ trail.name }}
{% endblock %}
{% block content %}
<h1>{{ trail.name }}</h1>
<p>{{ trail.desc }}</p>

<h4>Uploaded by:</h4>
<p>{{ trail.upload_user }}</p>
<h4>Sharing status:</h4>
<p>{{ trail.share }}</p>

<h3><a href="#edit">Edit/Delete</a></h3>

<h3>Center point:</h3>
<p>{{ trail.center_lat }}, {{ trail.center_lon }}</p>

<h3>Edges of trail:</h3>
<p><strong>N:</strong> {{ trail.max_lat }}, <strong>E:</strong> {{ trail.max_lon }}, <strong>S:</strong> {{ trail.min_lat }}, <strong>W:</strong> {{ trail.min_lon }}</p>

<h3>Status:</h3>
<h4>Overall status:</h4>
<p>{{ trail.status_overall }}</p>
<ul>
    <li>Trail parsed: {{ trail.status_parsed }}</li>
    <li>Waypoints built: {{ trail.status_waypoints }}</li>
    <li>Heightmap retrieved: {{ trail.status_heightmap }}</li>
    <li>Mesh generated: {{ trail.status_mesh }}</li>
    <li>Trail texture generated: {{ trail.status_texture_trail }}</li>
    <li>Satellite texture retrieved: {{ trail.status_texture_satellite }}</li>
</ul>

<h3>Waypoints:</h3>
<ul>
    {% for waypoint in trail_waypoints %}
    <li>{{ waypoint.lat }}, {{ waypoint.lon }}</li>
    {% endfor %}
</ul>

<h3 id="edit">Edit description:</h3>
<form action="{% url 'trails:edit_trail' trail.slug %}" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="textarea" name="desc" value="{{ trail.desc }}">
    <button type="submit">Save Changes</button>
</form>
<form action="{% url 'trails:delete_trail' trail.slug %}" method="post">
    {% csrf_token %}
    <button type="submit">Delete Trail</button>
</form>
{% endblock %}